length set
-----
_ do [
    length = _ import .map.length,
    set = _ import .map.set,
    contain = _ import .map.contain,
    a = _ any map,
    l1 = a ; length .,
    k = _ any .,
    v = _ any .,
    i = (a ; contain k) ? [0] : [1],
    a ; set k : v,
    l2 = a ; length .,
    l2 == l1 + i
]
-----
true
=====
length set_many
-----
_ do [
    length = _ import .map.length,
    set_many = _ import .map.set_many,
    a = _ any map,
    la = a ; length .,
    b = _ any map,
    lb = b ; length .,
    c = a ; set_many b,
    lc = c ; length .,
    lab = a ; length .,
    lab == la + lb - lc
]
-----
true
=====
items new
-----
_ do [
    new = _ import .map.new,
    items = _ import .map.items,
    a1 = _ any map,
    a2 = _ new a1 ; items .,
    a1 == a2
]
-----
true
=====
into_items new
-----
_ do [
    new = _ import .map.new,
    into_items = _ import .map.into_items,
    a1 = _ any map,
    a2 = a1,
    a3 = _ new a1 ; into_items .,
    (a1 == {}) and (a2 == a3)
]
-----
true
=====
keys set
-----
_ do [
    new_set = _ import .map.new_set,
    keys = _ import .map.keys,
    set_many = _ import .map.set_many,
    a1 = _ any map,
    a2 = _ new_set a1 ; keys .,
    a1 ; set_many a2,
    a1 == a2
]
-----
true
=====
into_keys set
-----
_ do [
    new_set = _ import .map.new_set,
    keys = _ import .map.keys,
    into_keys = _ import .map.into_keys,
    a1 = _ any map,
    a2 = _ new_set a1 ; keys .,
    a3 = _ new_set a1 ; into_keys .,
    (a1 == {}) and (a2 == a3)
]
-----
true
=====
values multiset
-----
_ do [
    second = _ import .pair.second,
    multiset = _ import .map.new_multiset,
    values = _ import .map.values,
    set = _ import .map.set,
    a1 = _ any map,
    b1 = _ multiset a1 ; values .,
    a2 = {},
    i = 0,
    a1 for kv : [
        a2 ; set i : kv ; second .,
        i = i + 1,
    ],
    b2 = _ multiset a2 ; values .,
    b1 == b2
]
-----
true
=====
into_values multiset
-----
_ do [
    multiset = _ import .map.new_multiset,
    values = _ import .map.values,
    into_values = _ import .map.into_values,
    a1 = _ any map,
    a2 = _ multiset a1 ; values .,
    a3 = _ multiset a1 ; into_values .,
    (a1 == {}) and (a2 == a3)
]
-----
true
=====
set contain
-----
_ do [
    set = _ import .map.set,
    contain = _ import .map.contain,
    a = _ any map,
    k = _ any .,
    v = _ any .,
    a ; set k : v,
    a ; contain k
]
-----
true
=====
set get
-----
_ do [
    set = _ import .map.set,
    get = _ import .map.get,
    a = _ any map,
    k = _ any .,
    v = _ any .,
    a ; set k : v,
    v1 = a ; get k,
    v1 == v
]
-----
true
=====
set_many contain_all
-----
_ do [
    set_many = _ import .map.set_many,
    contain_all = _ import .map.contain_all,
    keys = _ import .map.keys,
    a = _ any map,
    b = _ any map,
    a ; set_many b,
    a ; contain_all b ; keys .
]
-----
true
=====
remove_many contain_any
-----
_ do [
    remove_many = _ import .map.remove_many,
    contain_any = _ import .map.contain_any,
    a = _ any map,
    b = _ any list,
    a ; remove_many b,
    _ not a ; contain_any b
]
-----
true
=====
set_many get_many
-----
_ do [
    set_many = _ import .map.set_many,
    get_many = _ import .map.get_many,
    keys = _ import .map.keys,
    a = _ any map,
    b = _ any map,
    a ; set_many b,
    b1 = a ; get_many b ; keys .,
    b == b1
]
-----
true
=====
get remove
-----
_ do [
    get = _ import .map.get,
    remove = _ import .map.remove,
    contain = _ import .map.contain,
    a = _ any map,
    k = _ any .,
    v1 = a ; get k,
    v2 = a ; remove k,
    c = a ; contain k,
    (_ not c) and (v1 == v2)
]
-----
true
=====
get_many remove_many
-----
_ do [
    get_many = _ import .map.get_many,
    remove_many = _ import .map.remove_many,
    contain_any = _ import .map.contain_any,
    a = _ any map,
    ks = _ any list,
    vs1 = a ; get_many ks,
    vs2 = a ; remove_many ks,
    c = a ; contain_any ks,
    (_ not c) and (vs1 == vs2)
]
-----
true
=====
clear
-----
_ do [
    clear = _ import .map.clear,
    a = _ any map,
    a ; clear .,
    a == {}
]
-----
true
=====
length
-----
_ do [
    length = _ import .map.length,
    m = {1 : 2, 3 : 3},
    m ; length .
]
-----
2
=====
items new 1
-----
_ do [
    items = _ import .map.items,
    new = _ import .map.new,
    m = {1 : 2, 3 : 3},
    i = m ; items .,
    _ new i
]
-----
{1 : 2, 3 : 3}
=====
keys new_set 1
-----
_ do [
    keys = _ import .map.keys,
    new_set = _ import .map.new_set,
    m = {1 : 2, 3 : 3},
    k = m ; keys .,
    _ new_set k
]
-----
{1, 3}
=====
values multiset 1
-----
_ do [
    values = _ import .map.values,
    multiset = _ import .map.new_multiset,
    m = {1 : 2, 3 : 2},
    v = m ; values .,
    _ multiset v
]
-----
{2 : 2}
=====
contain 1
-----
_ do [
    contain = _ import .map.contain,
    m = {1 : 2},
    m ; contain 1
]
-----
true
=====
contain 2
-----
_ do [
    contain = _ import .map.contain,
    m = {1 : 2},
    m ; contain 2
]
-----
false
=====
contain_all 1
-----
_ do [
    contain_all = _ import .map.contain_all,
    m = {1 : 2, 3 : 4},
    m ; contain_all [1, 3]
]
-----
true
=====
contain_all 2
-----
_ do [
    contain_all = _ import .map.contain_all,
    m = {1 : 2, 3 : 4},
    m ; contain_all [1, 2]
]
-----
false
=====
contain_any 1
-----
_ do [
    contain_any = _ import .map.contain_any,
    m = {1 : 2, 3 : 4},
    m ; contain_any [1, 2]
]
-----
true
=====
contain_any 2
-----
_ do [
    contain_any = _ import .map.contain_any,
    m = {1 : 2, 3 : 4},
    m ; contain_any [2, 4]
]
-----
false
=====
set 1
-----
_ do [
    set = _ import .map.set,
    m = {1 : 2, 3 : 4},
    [m ; set 1 : 3, m]
]
-----
[2, {1 : 3, 3 : 4}]
=====
set 2
-----
_ do [
    set = _ import .map.set,
    m = {1 : 2},
    [m ; set 2 : 3, m]
]
-----
[., {1 : 2, 2 : 3}]
=====
set_many 1
-----
_ do [
    set_many = _ import .map.set_many,
    m = {1 : 2, 2 : 3},
    [m ; set_many {1 : 3, 3 : 4}, m]
]
-----
[{1 : 2}, {1 : 3, 2 : 3, 3 : 4}]
=====
get 1
-----
_ do [
    get = _ import .map.get,
    m = {1 : 2},
    m ; get 1
]
-----
2
=====
get 2
-----
_ do [
    get = _ import .map.get,
    m = {1 : 2},
    m ; get 2
]
-----
.
=====
get_many duplicate keys
-----
_ do [
    get_many = _ import .map.get_many,
    m = {1 : 2, 2 : 3, 3 : 4},
    m ; get_many [1, 2, 1, 4]
]
-----
{1 : 2, 2 : 3}
=====
remove 1
-----
_ do [
    remove = _ import .map.remove,
    m = {1 : 2, 3 : 4},
    [m ; remove 1, m]
]
-----
[2, {3 : 4}]
=====
remove 2
-----
_ do [
    remove = _ import .map.remove,
    m = {1 : 2},
    [m ; remove 2, m]
]
-----
[., {1 : 2}]
=====
remove_many 1
-----
_ do [
    remove_many = _ import .map.remove_many,
    m = {1 : 2, 2 : 3, 3 : 4},
    [m ; remove_many [1, 3, 5], m]
]
-----
[{1 : 2, 3 : 4}, {2 : 3}] 
=====
clear 1
-----
_ do [
    clear = _ import .map.clear,
    m = {1 : 2, 2 : 3},
    m ; clear .,
    m
]
-----
{}
=====
new 1
-----
_ do [
    new = _ import .map.new,
    _ new [1 : 2, 3 : 4]
]
-----
{1 : 2, 3 : 4}
=====
map duplicate keys
-----
_ do [
    new = _ import .map.new,
    _ new [1 : 2, 1 : 3]
]
-----
{1 : 3}
=====
new_set duplicate keys 1
-----
_ do [
    new_set = _ import .map.new_set,
    _ new_set [1, 2, 2, 3]
]
-----
{1, 2, 3}
=====
set duplicate keys 2
-----
_ do [
    new_set = _ import .map.new_set,
    _ new_set [1, 2, 1]
]
-----
{1, 2}
=====
multiset 1
-----
_ do [
    multiset = _ import .map.new_multiset,
    _ multiset ["a", "b", "c", "c", "c", "b"]
]
-----
{"a" : 1, "b" : 2, "c" : 3}

length set
-----
do [
    a = any ; map,
    l1 = map.length ; a,
    k = any ; .,
    v = any ; .,
    i = (a map.contains k) if 0 : 1,
    a map.set k : v,
    l2 = map.length ; a,
    l2 == l1 + i
]
-----
true
=====
length set_many
-----
do [
    a = any ; map,
    la = map.length ; a,
    b = any ; map,
    lb = map.length ; b,
    c = a map.set_many b,
    lc = map.length ; c,
    lab = map.length ; a,
    lab == la + lb - lc
]
-----
true
=====
items map
-----
do [
    a1 = any ; map,
    a2 = map ; map.items ; a1,
    a1 == a2
]
-----
true
=====
into_items map
-----
do [
    a1 = any ; map,
    a2 = a1,
    a3 = map ; map.into_items ; a1,
    (a1 == {}) and (a2 == a3)
]
-----
true
=====
keys set
-----
do [
    a1 = any ; map,
    a2 = set ; map.keys ; a1,
    a1 map.set_many a2,
    a1 == a2
]
-----
true
=====
into_keys set
-----
do [
    a1 = any ; map,
    a2 = set ; map.keys ; a1,
    a3 = set ; map.into_keys ; a1,
    (a1 == {}) and (a2 == a3)
]
-----
true
=====
values multiset
-----
do [
    a1 = any ; map,
    b1 = multiset ; map.values ; a1,
    a2 = {},
    i = 0,
    a1 for kv : [
        a2 map.set i : pair.second ; kv,
        i = i + 1,
    ],
    b2 = multiset ; map.values ; a2,
    b1 == b2
]
-----
true
=====
into_values multiset
-----
do [
    a1 = any ; map,
    a2 = multiset ; map.values ; a1,
    a3 = multiset ; map.into_values ; a1,
    (a1 == {}) and (a2 == a3)
]
-----
true
=====
set contains
-----
do [
    a = any ; map,
    k = any ; .,
    v = any ; .,
    a map.set k : v,
    a map.contains k
]
-----
true
=====
set get
-----
do [
    a = any ; map,
    k = any ; .,
    v = any ; .,
    a map.set k : v,
    v1 = a map.get k,
    v1 == v
]
-----
true
=====
set_many contains_all
-----
do [
    a = any ; map,
    b = any ; map,
    a map.set_many b,
    a map.contains_all map.keys ; b
]
-----
true
=====
remove_many contains_any
-----
do [
    a = any ; map,
    b = any ; list,
    a map.remove_many b,
    not ; a map.contains_any b
]
-----
true
=====
set_many get_many
-----
do [
    a = any ; map,
    b = any ; map,
    a map.set_many b,
    b1 = a map.get_many map.keys ; b,
    b == b1
]
-----
true
=====
get remove
-----
do [
    a = any ; map,
    k = any ; .,
    v1 = a map.get k,
    v2 = a map.remove k,
    c = a map.contains k,
    (not c) and (v1 == v2)
]
-----
true
=====
get_many remove_many
-----
do [
    a = any ; map,
    ks = any ; list,
    vs1 = a map.get_many ks,
    vs2 = a map.remove_many ks,
    c = a map.contains_any ks,
    (not c) and (vs1 == vs2)
]
-----
true
=====
clear
-----
do [
    a = any ; map,
    map.clear a,
    a == {}
]
-----
true
=====
length
-----
map.length {1 : 2, 3 : :}
-----
{1 : 2, 3 : :} : 2
=====
items map 1
-----
do [(m : i) = map.items ; {1 : 2, 3 : :}, map ^i]
-----
{1 : 2, 3 : :}
=====
keys set 1
-----
do [(m : k) = map.keys ; {1 : 2, 3 : :}, set ^k]
-----
{1, 3}
=====
values multiset 1
-----
do [(m : v) = map.values ; {1 : 2, 3 : 2}, multiset ^v]
-----
{2 : 2}
=====
contains 1
-----
{1 : 2} map.contains 1
-----
{1 : 2} : true
=====
contains 2
-----
{1 : 2} map.contains 2
-----
{1 : 2} : false
=====
contains_all 1
-----
{1 : 2, 3 : 4} map.contains_all [1, 3]
-----
{1 : 2, 3 : 4} : true
=====
contains_all 2
-----
{1 : 2, 3 : 4} map.contains_all [1, 2]
-----
{1 : 2, 3 : 4} : false
=====
contains_any 1
-----
{1 : 2, 3 : 4} map.contains_any [1, 2]
-----
{1 : 2, 3 : 4} : true
=====
contains_any 2
-----
{1 : 2, 3 : 4} map.contains_any [2, 4]
-----
{1 : 2, 3 : 4} : false
=====
set 1
-----
{1 : 2, 3 : 4} map.set 1 : 3
-----
{1 : 3, 3 : 4} : 2
=====
set 2
-----
{1 : 2} map.set 2 : 3
-----
{1 : 2, 2 : 3} : .
=====
set_many 1
-----
{1 : 2, 2 : 3} map.set_many {1 : 3, 3 : 4}
-----
{1 : 3, 2 : 3, 3 : 4} : {1 : 2}
=====
get 1
-----
{1 : 2} map.get 1
-----
{1 : 2} : 2
=====
get 2
-----
{1 : 2} map.get 2
-----
{1 : 2} : .
=====
get_many duplicate keys
-----
{1 : 2, 2 : 3, 3 : 4} map.get_many [1, 2, 1, 4]
-----
{1 : 2, 2 : 3, 3 : 4} : {1 : 2, 2 : 3}
=====
remove 1
-----
{1 : 2, 3 : 4} map.remove 1
-----
{3 : 4} : 2
=====
remove 2
-----
{1 : 2} map.remove 2
-----
{1 : 2} : .
=====
remove_many 1
-----
{1 : 2, 2 : 3, 3 : 4} map.remove_many [1, 3, 5]
-----
{2 : 3} : {1 : 2, 3 : 4}
=====
clear 1
-----
map.clear {1 : 2, 2 : 3}
-----
{}
=====
map 1
-----
map [1 : 2, 3 : 4]
-----
{1 : 2, 3 : 4}
=====
map duplicate keys
-----
map [1 : 2, 1 : 3]
-----
{1 : 3}
=====
set duplicate keys 1
-----
set [1, 2, 2, 3]
-----
{1, 2, 3}
=====
set duplicate keys 2
-----
set [1, 2, 1]
-----
{1, 2}
=====
multiset 1
-----
multiset ["a", "b", "c", "c", "c", "b"]
-----
{"a" : 1, "b" : 2, "c" : 3}

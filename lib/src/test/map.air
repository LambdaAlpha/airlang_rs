length set
-----
_ do [
    any = _ import _value.any,
    length = _ import _map.length,
    set = _ import _map.set,
    contain = _ import _map.contain,
    a = _ any map,
    l1 = a which _ length .,
    k = _ any .,
    v = _ any .,
    i = (a which _ contain k) test [0] : [1],
    a which _ set k : v,
    l2 = a which _ length .,
    l2 == l1 + i
]
-----
true
=====
length set_many
-----
_ do [
    any = _ import _value.any,
    length = _ import _map.length,
    set_many = _ import _map.set_many,
    a = _ any map,
    la = a which _ length .,
    b = _ any map,
    lb = b which _ length .,
    c = a which _ set_many b,
    lc = c which _ length .,
    lab = a which _ length .,
    lab == la + lb - lc
]
-----
true
=====
items new
-----
_ do [
    any = _ import _value.any,
    new = _ import _map.new,
    items = _ import _map.items,
    a1 = _ any map,
    a2 = _ new a1 which _ items .,
    a1 == a2
]
-----
true
=====
into_items new
-----
_ do [
    any = _ import _value.any,
    new = _ import _map.new,
    into_items = _ import _map.into_items,
    a1 = _ any map,
    a2 = a1,
    a3 = _ new a1 which _ into_items .,
    (a1 == {}) and (a2 == a3)
]
-----
true
=====
keys set
-----
_ do [
    any = _ import _value.any,
    new_set = _ import _map.new_set,
    keys = _ import _map.keys,
    set_many = _ import _map.set_many,
    a1 = _ any map,
    a2 = _ new_set a1 which _ keys .,
    a1 which _ set_many a2,
    a1 == a2
]
-----
true
=====
into_keys set
-----
_ do [
    any = _ import _value.any,
    new_set = _ import _map.new_set,
    keys = _ import _map.keys,
    into_keys = _ import _map.into_keys,
    a1 = _ any map,
    a2 = _ new_set a1 which _ keys .,
    a3 = _ new_set a1 which _ into_keys .,
    (a1 == {}) and (a2 == a3)
]
-----
true
=====
values multiset
-----
_ do [
    any = _ import _value.any,
    second = _ import _pair.second,
    multiset = _ import _map.new_multiset,
    values = _ import _map.values,
    set = _ import _map.set,
    a1 = _ any map,
    b1 = _ multiset a1 which _ values .,
    a2 = {},
    i = 0,
    a1 iterate kv : [
        a2 which _ set i : kv which _ second .,
        i = i + 1,
    ],
    b2 = _ multiset a2 which _ values .,
    b1 == b2
]
-----
true
=====
into_values multiset
-----
_ do [
    any = _ import _value.any,
    multiset = _ import _map.new_multiset,
    values = _ import _map.values,
    into_values = _ import _map.into_values,
    a1 = _ any map,
    a2 = _ multiset a1 which _ values .,
    a3 = _ multiset a1 which _ into_values .,
    (a1 == {}) and (a2 == a3)
]
-----
true
=====
set contain
-----
_ do [
    any = _ import _value.any,
    set = _ import _map.set,
    contain = _ import _map.contain,
    a = _ any map,
    k = _ any .,
    v = _ any .,
    a which _ set k : v,
    a which _ contain k
]
-----
true
=====
set get
-----
_ do [
    any = _ import _value.any,
    set = _ import _map.set,
    get = _ import _map.get,
    a = _ any map,
    k = _ any .,
    v = _ any .,
    a which _ set k : v,
    v1 = a which _ get k,
    v1 == v
]
-----
true
=====
set_many contain_all
-----
_ do [
    any = _ import _value.any,
    set_many = _ import _map.set_many,
    contain_all = _ import _map.contain_all,
    keys = _ import _map.keys,
    a = _ any map,
    b = _ any map,
    a which _ set_many b,
    a which _ contain_all b which _ keys .
]
-----
true
=====
remove_many contain_any
-----
_ do [
    any = _ import _value.any,
    remove_many = _ import _map.remove_many,
    contain_any = _ import _map.contain_any,
    a = _ any map,
    b = _ any list,
    a which _ remove_many b,
    _ not a which _ contain_any b
]
-----
true
=====
set_many get_many
-----
_ do [
    any = _ import _value.any,
    set_many = _ import _map.set_many,
    get_many = _ import _map.get_many,
    keys = _ import _map.keys,
    a = _ any map,
    b = _ any map,
    a which _ set_many b,
    b1 = a which _ get_many b which _ keys .,
    b == b1
]
-----
true
=====
get remove
-----
_ do [
    any = _ import _value.any,
    get = _ import _map.get,
    remove = _ import _map.remove,
    contain = _ import _map.contain,
    a = _ any map,
    k = _ any .,
    v1 = a which _ get k,
    v2 = a which _ remove k,
    c = a which _ contain k,
    (_ not c) and (v1 == v2)
]
-----
true
=====
get_many remove_many
-----
_ do [
    any = _ import _value.any,
    get_many = _ import _map.get_many,
    remove_many = _ import _map.remove_many,
    contain_any = _ import _map.contain_any,
    a = _ any map,
    ks = _ any list,
    vs1 = a which _ get_many ks,
    vs2 = a which _ remove_many ks,
    c = a which _ contain_any ks,
    (_ not c) and (vs1 == vs2)
]
-----
true
=====
clear
-----
_ do [
    any = _ import _value.any,
    clear = _ import _map.clear,
    a = _ any map,
    a which _ clear .,
    a == {}
]
-----
true
=====
length
-----
_ do [
    length = _ import _map.length,
    m = {1 : 2, 3 : 3},
    m which _ length .
]
-----
2
=====
items new 1
-----
_ do [
    items = _ import _map.items,
    new = _ import _map.new,
    m = {1 : 2, 3 : 3},
    i = m which _ items .,
    _ new i
]
-----
{1 : 2, 3 : 3}
=====
keys new_set 1
-----
_ do [
    keys = _ import _map.keys,
    new_set = _ import _map.new_set,
    m = {1 : 2, 3 : 3},
    k = m which _ keys .,
    _ new_set k
]
-----
{1, 3}
=====
values multiset 1
-----
_ do [
    values = _ import _map.values,
    multiset = _ import _map.new_multiset,
    m = {1 : 2, 3 : 2},
    v = m which _ values .,
    _ multiset v
]
-----
{2 : 2}
=====
contain 1
-----
_ do [
    contain = _ import _map.contain,
    m = {1 : 2},
    m which _ contain 1
]
-----
true
=====
contain 2
-----
_ do [
    contain = _ import _map.contain,
    m = {1 : 2},
    m which _ contain 2
]
-----
false
=====
contain_all 1
-----
_ do [
    contain_all = _ import _map.contain_all,
    m = {1 : 2, 3 : 4},
    m which _ contain_all [1, 3]
]
-----
true
=====
contain_all 2
-----
_ do [
    contain_all = _ import _map.contain_all,
    m = {1 : 2, 3 : 4},
    m which _ contain_all [1, 2]
]
-----
false
=====
contain_any 1
-----
_ do [
    contain_any = _ import _map.contain_any,
    m = {1 : 2, 3 : 4},
    m which _ contain_any [1, 2]
]
-----
true
=====
contain_any 2
-----
_ do [
    contain_any = _ import _map.contain_any,
    m = {1 : 2, 3 : 4},
    m which _ contain_any [2, 4]
]
-----
false
=====
set 1
-----
_ do [
    set = _ import _map.set,
    m = {1 : 2, 3 : 4},
    [m which _ set 1 : 3, m]
]
-----
[2, {1 : 3, 3 : 4}]
=====
set 2
-----
_ do [
    set = _ import _map.set,
    m = {1 : 2},
    [m which _ set 2 : 3, m]
]
-----
[., {1 : 2, 2 : 3}]
=====
set_many 1
-----
_ do [
    set_many = _ import _map.set_many,
    m = {1 : 2, 2 : 3},
    [m which _ set_many {1 : 3, 3 : 4}, m]
]
-----
[{1 : 2}, {1 : 3, 2 : 3, 3 : 4}]
=====
get 1
-----
_ do [
    get = _ import _map.get,
    m = {1 : 2},
    m which _ get 1
]
-----
2
=====
get 2
-----
_ do [
    get = _ import _map.get,
    m = {1 : 2},
    m which _ get 2
]
-----
.
=====
get_many duplicate keys
-----
_ do [
    get_many = _ import _map.get_many,
    m = {1 : 2, 2 : 3, 3 : 4},
    m which _ get_many [1, 2, 1, 4]
]
-----
{1 : 2, 2 : 3}
=====
remove 1
-----
_ do [
    remove = _ import _map.remove,
    m = {1 : 2, 3 : 4},
    [m which _ remove 1, m]
]
-----
[2, {3 : 4}]
=====
remove 2
-----
_ do [
    remove = _ import _map.remove,
    m = {1 : 2},
    [m which _ remove 2, m]
]
-----
[., {1 : 2}]
=====
remove_many 1
-----
_ do [
    remove_many = _ import _map.remove_many,
    m = {1 : 2, 2 : 3, 3 : 4},
    [m which _ remove_many [1, 3, 5], m]
]
-----
[{1 : 2, 3 : 4}, {2 : 3}] 
=====
clear 1
-----
_ do [
    clear = _ import _map.clear,
    m = {1 : 2, 2 : 3},
    m which _ clear .,
    m
]
-----
{}
=====
new 1
-----
_ do [
    new = _ import _map.new,
    _ new [1 : 2, 3 : 4]
]
-----
{1 : 2, 3 : 4}
=====
map duplicate keys
-----
_ do [
    new = _ import _map.new,
    _ new [1 : 2, 1 : 3]
]
-----
{1 : 3}
=====
new_set duplicate keys 1
-----
_ do [
    new_set = _ import _map.new_set,
    _ new_set [1, 2, 2, 3]
]
-----
{1, 2, 3}
=====
set duplicate keys 2
-----
_ do [
    new_set = _ import _map.new_set,
    _ new_set [1, 2, 1]
]
-----
{1, 2}
=====
multiset 1
-----
_ do [
    multiset = _ import _map.new_multiset,
    _ multiset ["a", "b", "c", "c", "c", "b"]
]
-----
{"a" : 1, "b" : 2, "c" : 3}
